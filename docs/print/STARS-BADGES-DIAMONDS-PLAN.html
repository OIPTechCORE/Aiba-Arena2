<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>STARS BADGES DIAMONDS PLAN — Aiba Arena Docs</title>
  <link rel="stylesheet" href="../print.css"/>
</head>
<body>
  <div class="doc-header">
    <h1>STARS BADGES DIAMONDS PLAN</h1>
    <p class="doc-meta no-print"><a href="index.html">← All docs</a></p>
  </div>
  <div class="doc-body">
<h1>Stars, Profile Badges &amp; Diamonds — Super Futuristic Plan</h1>
<p>This document plans and defines the implementation of <strong>Telegram Stars</strong>, <strong>Profile Badges</strong> (X-style), and <strong>Telegram/TON Diamonds</strong> inside the AIBA Arena project, in a <strong>super, futuristic</strong> way aligned with the existing 3D glass UI and TON ecosystem.</p>
<hr/>
<h2>1. Vision (Super Futuristic)</h2>
<ul>
<li><strong>Profile Badges</strong> — Like X (Twitter) profile badges: verified, early adopter, top donor, guild leader, etc. Shown as futuristic pill badges with distinct colors and icons next to usernames and in leaderboards.</li>
<li><strong>Diamonds</strong> — Premium TON/Telegram ecosystem asset: rare, high-value. Earned on first win and select achievements; used for premium perks or displayed as status. Futuristic diamond icon and premium styling.</li>
</ul>
<p>All three integrate with the existing <strong>modular, multi-tabbed, multi-card</strong> miniapp UI and <strong>balance strip</strong> for a seamless, eye-catching experience.</p>
<hr/>
<h2>2. Stars (Telegram Stars–Style)</h2>
<h3>2.1 Concept</h3>
<ul>
<li><strong>Display</strong>: Balance strip + Wallet tab show Stars with a star icon and accent (e.g. gold/amber).</li>
<li><strong>Spend</strong> (future): Tips to other players, charity donations, or premium actions. (MVP: display and earn only.)</li>
<li><strong>Backend</strong>: <code>User.starsBalance</code> (number); <code>EconomyConfig.starRewardPerBattle</code>; after each battle, increment user's stars by config value.</li>
</ul>
<h3>2.2 Data</h3>
<ul>
<li><strong>EconomyConfig</strong>: <code>starRewardPerBattle: { type: Number, default: 1 }</code></li>
<li><strong>Economy /me</strong>: Return <code>starsBalance</code> and <code>economy.starRewardPerBattle</code></li>
</ul>
<h3>2.3 UI</h3>
<ul>
<li>Wallet tab: <strong>Stars</strong> card (glass, gradient border) — &quot;Earn Stars from battles. Use for tips &amp; perks.&quot;</li>
</ul>
<hr/>
<h2>3. Profile Badges (X-Style)</h2>
<h3>3.1 Concept</h3>
<ul>
<li><strong>Assignment</strong>: Admin assigns badges to users (telegramId + list of badge ids). Optional auto-award (e.g. top 10 leaderboard → <code>top_leader</code>).</li>
<li><strong>Display</strong>: Next to username in header, leaderboards, and a dedicated <strong>Profile</strong> identity card with all badges as futuristic pills/icons.</li>
</ul>
<h3>3.2 Data</h3>
<ul>
<li><strong>Admin</strong>: <code>POST /api/admin/mod/user-badges</code> — body: <code>{ telegramId, badges: ['verified', 'top_donor'] }</code></li>
<li><strong>Economy /me</strong>: Return <code>badges</code> array.</li>
</ul>
<h3>3.3 Badge Definitions (for UI)</h3>
<table>
<thead><tr>
<th>Id</th>
<th>Label</th>
<th>Color/Icon</th>
</tr></thead>
<tbody>
<tr>
<td>verified</td>
<td>Verified</td>
<td>Cyan check</td>
</tr>
<tr>
<td>early_adopter</td>
<td>Early Adopter</td>
<td>Gold</td>
</tr>
<tr>
<td>top_donor</td>
<td>Top Donor</td>
<td>Magenta</td>
</tr>
<tr>
<td>guild_leader</td>
<td>Guild Leader</td>
<td>Green</td>
</tr>
<tr>
<td>top_leader</td>
<td>Top Leader</td>
<td>Gold</td>
</tr>
<tr>
<td>champion</td>
<td>Champion</td>
<td>Magenta</td>
</tr>
</tbody></table>
<h3>3.4 UI</h3>
<ul>
<li>Leaderboard rows: Optional badge icon next to username if user has badges.</li>
<li>Balance strip or header: Optional small verified badge next to balance if user has <code>verified</code>.</li>
</ul>
<hr/>
<h2>4. Diamonds (Telegram/TON Ecosystem)</h2>
<h3>4.1 Concept</h3>
<ul>
<li><strong>Display</strong>: Balance strip + Wallet tab with a diamond icon and premium (e.g. cyan/silver) styling.</li>
<li><strong>Spend</strong> (future): Premium features, exclusive arenas, or NFT mints. (MVP: display and earn on first win.)</li>
<li><strong>Backend</strong>: <code>User.diamondsBalance</code>, <code>User.firstWinDiamondAwardedAt</code>; <code>EconomyConfig.diamondRewardFirstWin</code>; in battle route, if first win and not yet awarded, increment diamonds and set flag.</li>
</ul>
<h3>4.2 Data</h3>
<ul>
<li><strong>EconomyConfig</strong>: <code>diamondRewardFirstWin: { type: Number, default: 1 }</code></li>
<li><strong>Economy /me</strong>: Return <code>diamondsBalance</code> and <code>economy.diamondRewardFirstWin</code></li>
</ul>
<h3>4.3 UI</h3>
<ul>
<li>Wallet tab: <strong>Diamonds</strong> card — &quot;Premium TON ecosystem asset. Earned on first win and achievements.&quot;</li>
</ul>
<hr/>
<h2>5. API Summary</h2>
<table>
<thead><tr>
<th>Endpoint</th>
<th>Method</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr>
<td>GET /api/economy/me</td>
<td>-</td>
<td>Adds <code>starsBalance</code>, <code>diamondsBalance</code>, <code>badges</code>; economy: <code>starRewardPerBattle</code>, <code>diamondRewardFirstWin</code></td>
</tr>
<tr>
<td>POST /api/admin/mod/user-badges</td>
<td>Admin</td>
<td>Body: <code>{ telegramId, badges: [] }</code> — set user badges</td>
</tr>
</tbody></table>
<hr/>
<h2>6. File Checklist</h2>
<ul>
<li><strong>Miniapp</strong>: Balance strip (Stars, Diamonds); Profile/Identity card with badges; Wallet tab (Stars card, Diamonds card); futuristic icons for star and diamond.</li>
<li><strong>Admin panel</strong>: Economy config (star/diamond knobs); Mod or Users section (assign badges by telegramId).</li>
</ul>
<hr/>
<h2>7. Futuristic UX Principles</h2>
<ul>
<li><strong>Icons</strong>: Inline SVG star (★) and diamond (◆) in 24×24 stroke style; badge pills with small icons.</li>
<li><strong>Copy</strong>: &quot;Stars&quot;, &quot;Diamonds&quot;, &quot;Profile badges&quot;, &quot;Earn Stars from battles&quot;, &quot;Premium TON asset.&quot;</li>
<li><strong>Guidance</strong>: Short hints under each card explaining how to earn and (later) spend.</li>
</ul>
<p>This keeps Stars, Badges, and Diamonds <strong>unified</strong> with the rest of the app and <strong>super futuristic</strong> in look and feel.</p>
  </div>
</body>
</html>