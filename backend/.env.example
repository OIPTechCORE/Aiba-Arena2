# ========== Localhost / first-time run ==========
# Copy this file to .env and set MONGO_URI (and optionally ADMIN_EMAIL, ADMIN_PASSWORD).
# Keep APP_ENV=dev so backend accepts x-telegram-id and skips production checks.

PORT=5000
MONGO_URI=mongodb://localhost:27017/aiba_arena

# Local dev mode:
# - Enables dev escape hatch for Telegram auth (accepts x-telegram-id)
# - Disables strict production readiness requirements
APP_ENV=dev

# Comma-separated list of allowed origins. Leave empty to allow all origins (recommended for localhost).
# For localhost frontends (miniapp :3000, admin :3001) you can also set:
# CORS_ORIGIN=http://localhost:3000,http://localhost:3001
CORS_ORIGIN=

# TON payout settings
# Stub mode (safe default): ADMIN_SIGNER_TYPE=stub
ADMIN_SIGNER_TYPE=stub

# TON provider (testnet default inside code if empty)
TON_PROVIDER_URL=
TON_API_KEY=

# Required for real payout mode (mnemonic)
ADMIN_WALLET=
ADMIN_MNEMONIC=
ADMIN_JETTON_WALLET=

# Telegram auth (required for production). Also used for push notifications (e.g. battle win).
TELEGRAM_BOT_TOKEN=

# TON boosts: wallet that receives TON payments; cost is set in Admin → Economy (boostCostTonNano).
BOOST_TON_WALLET=

# Groups (guilds): Super Admin wallets for paid create and boost. Costs in Admin → Economy (createGroupCostTonNano, boostGroupCostTonNano).
LEADER_BOARD_WALLET=
BOOST_GROUP_WALLET=
# Telegram initData replay window (seconds). Recommended 300–900 for production.
# NOTE: Production readiness checks require this to be set explicitly when APP_ENV=prod or NODE_ENV=production.
TELEGRAM_INITDATA_MAX_AGE_SECONDS=900

# Admin auth (required for production admin panel)
ADMIN_JWT_SECRET=dev-change-me
ADMIN_EMAIL=admin@example.com
# Prefer ADMIN_PASSWORD_HASH (bcrypt). If empty, ADMIN_PASSWORD is used (not recommended).
ADMIN_PASSWORD_HASH=
ADMIN_PASSWORD=dev-admin-password

# Battle determinism secret (server-side)
BATTLE_SEED_SECRET=dev-secret-change-me

# Off-chain NEUR ledger caps (optional per arena)
# Example:
# dailyCapNeurByArena={"prediction":5000000,"simulation":2500000}

# On-chain reward claims (signature-based vault)
ARENA_VAULT_ADDRESS=
AIBA_JETTON_MASTER=
ORACLE_PRIVATE_KEY_HEX=

# Legacy hourly dispatch (pendingAIBA -> on-chain transfer). Disabled by default; do not enable in production.
ENABLE_LEGACY_PENDING_AIBA_DISPATCH=false

