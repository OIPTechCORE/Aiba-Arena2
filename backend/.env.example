# ========== Localhost / first-time run ==========
# Copy this file to .env and set MONGO_URI (and optionally ADMIN_EMAIL, ADMIN_PASSWORD).
# Keep APP_ENV=dev so backend accepts x-telegram-id and skips production checks.
# MongoDB: use local (below) or MongoDB Atlas: mongodb+srv://USER:PASSWORD@cluster.mongodb.net/aiba_arena?retryWrites=true&w=majority

PORT=5000
# Local: mongodb://localhost:27017/aiba_arena  |  Atlas: mongodb+srv://user:pass@cluster.mongodb.net/aiba_arena?retryWrites=true&w=majority
MONGO_URI=mongodb://localhost:27017/aiba_arena

# Local dev mode:
# - Enables dev escape hatch for Telegram auth (accepts x-telegram-id)
# - Disables strict production readiness requirements
APP_ENV=dev

# Comma-separated list of allowed origins. Leave empty to allow all origins (recommended for localhost).
# For localhost frontends (miniapp :3000, admin :3001) you can also set:
# CORS_ORIGIN=http://localhost:3000,http://localhost:3001
CORS_ORIGIN=

# Optional: JSON body size limit (Express). Default: 1mb
JSON_BODY_LIMIT=1mb

# Optional: Redis for shared rate limiting
REDIS_URL=

# TON payout settings
# Stub mode (safe default): ADMIN_SIGNER_TYPE=stub
ADMIN_SIGNER_TYPE=stub

# TON provider (testnet default inside code if empty)
TON_PROVIDER_URL=
TON_API_KEY=

# Required for real payout mode (mnemonic)
ADMIN_WALLET=
ADMIN_MNEMONIC=
ADMIN_JETTON_WALLET=

# Telegram auth (required for production). Also used for push notifications (e.g. battle win).
TELEGRAM_BOT_TOKEN=

# TON boosts: wallet that receives TON payments; cost is set in Admin → Economy (boostCostTonNano).
BOOST_TON_WALLET=

# Groups (guilds): Super Admin wallets for paid create and boost. Costs in Admin → Economy (createGroupCostTonNano, boostGroupCostTonNano).
LEADER_BOARD_WALLET=
BOOST_GROUP_WALLET=

# Create broker with TON (1–10 TON); cost: createBrokerCostTonNano. Auto-lists on marketplace.
CREATED_BROKERS_WALLET=
# Boost your profile (visibility): 1–10 TON; cost: boostProfileCostTonNano.
BOOST_PROFILE_WALLET=
# Gifts: send gift to another user; 1–10 TON; cost: giftCostTonNano.
GIFTS_WALLET=
# Stars Store: buy Stars with TON (1–10 TON per pack); cost: starsStorePackPriceTonNano. TON → this wallet.
STARS_STORE_WALLET=
# Autonomous Car Racing: create car with TON (1–10 TON); cost: createCarCostTonNano.
CAR_RACING_WALLET=
# Autonomous Motorcycle Racing: create bike with TON (1–10 TON); cost: createBikeCostTonNano.
MOTORCYCLE_RACING_WALLET=
# Premium subscription (5 TON/month); cost: premiumCostTonNano.
PREMIUM_WALLET=
# Telegram initData replay window (seconds). Recommended 300–900 for production.
# NOTE: Production readiness checks require this to be set explicitly when APP_ENV=prod or NODE_ENV=production.
TELEGRAM_INITDATA_MAX_AGE_SECONDS=900

# Admin auth (required for production admin panel)
ADMIN_JWT_SECRET=dev-change-me
ADMIN_EMAIL=admin@example.com
# Prefer ADMIN_PASSWORD_HASH (bcrypt). If empty, ADMIN_PASSWORD is used (not recommended for production).
ADMIN_PASSWORD_HASH=
ADMIN_PASSWORD=your-admin-password

# Battle determinism secret (server-side)
BATTLE_SEED_SECRET=dev-secret-change-me

# Off-chain NEUR ledger caps (optional per arena)
# Example:
# dailyCapNeurByArena={"prediction":5000000,"simulation":2500000}

# On-chain reward claims (signature-based vault)
ARENA_VAULT_ADDRESS=
AIBA_JETTON_MASTER=
ORACLE_PRIVATE_KEY_HEX=
ORACLE_SIGNER_URL=
ORACLE_SIGNER_TOKEN=

# Legacy hourly dispatch (pendingAIBA -> on-chain transfer). Disabled by default; do not enable in production.
ENABLE_LEGACY_PENDING_AIBA_DISPATCH=false

# Holistic automated AIBA/TON oracle (CoinGecko + config)
# Optional: override AIBA price in USD (else from Admin Economy config oracleAibaUsd)
ORACLE_AIBA_USD=
# Optional: cron interval in minutes (default 15). Requires oracleAutoUpdateEnabled + oracleAibaUsd or oracleFallbackAibaPerTon
ORACLE_UPDATE_INTERVAL_MINUTES=15

# Super Admin wallets — transaction charges (TON) go to these wallets:
# P2P AIBA send: TON fee for sending AIBA to another user
P2P_AIBA_SEND_WALLET=
# AIBA in gifts: Pay TON and send AIBA to recipient
AIBA_IN_GIFTS_WALLET=
# Buy AIBA with TON: TON payment for purchasing AIBA (any TON-supported wallet)
BUY_AIBA_WITH_TON_WALLET=
# Donate broker: TON fee to donate a broker to the pool
DONATE_BROKER_WALLET=
# Donate car: TON fee to donate a car to the pool
DONATE_CAR_WALLET=
# Donate bike: TON fee to donate a bike to the pool
DONATE_BIKE_WALLET=
# Donate gifts: TON fee to donate to the gifts fund
DONATE_GIFTS_WALLET=
# Early stake cancel: AIBA fee goes to Treasury (type staking_cancel_early_fee). For TON-based fee, use CANCELLED_STAKES_WALLET.
CANCELLED_STAKES_WALLET=