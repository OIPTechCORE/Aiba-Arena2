# =============================================================================
# Aiba Arena Unified Environment Configuration
# =============================================================================
# This file consolidates all environment variables for:
# - Backend API (Node.js/Express)
# - Miniapp (Next.js frontend)
# - Admin Panel (Next.js admin interface)
# 
# Copy this file to .env and fill in your actual values
# Never commit .env file to version control
# 
# PREFIX CONVENTIONS:
# - BACKEND_* : Backend API specific variables
# - MINIAPP_* : Miniapp frontend specific variables  
# - ADMIN_* : Admin panel specific variables
# - SHARED_* : Variables shared across services

# =============================================================================
# SHARED Configuration
# =============================================================================
# Environment: development, test, production
SHARED_APP_ENV=development
SHARED_NODE_ENV=development

# Backend API URL (used by frontend services)
SHARED_BACKEND_URL=http://localhost:5000

# =============================================================================
# BACKEND API Configuration
# =============================================================================
# Backend server port
BACKEND_PORT=5000

# =============================================================================
# BACKEND Database Configuration
# =============================================================================
# MongoDB connection URI
# Local: mongodb://localhost:27017/aiba-arena
# Atlas: mongodb+srv://user:pass@cluster.mongodb.net/aiba-arena?retryWrites=true&w=majority
BACKEND_MONGO_URI=mongodb://localhost:27017/aiba-arena

# =============================================================================
# BACKEND Security Configuration
# =============================================================================
# JWT secret for admin authentication (must be strong in production)
BACKEND_ADMIN_JWT_SECRET=your-super-secret-jwt-key-change-this-in-production

# Admin credentials (for development only - use password hash in production)
BACKEND_ADMIN_EMAIL=admin@example.com
BACKEND_ADMIN_PASSWORD=your-admin-password

# Admin password hash (use: node scripts/hash-admin-password.js "your-password")
BACKEND_ADMIN_PASSWORD_HASH=your-hashed-password-here

# Battle seed secret for deterministic randomness (must be >= 32 chars)
BACKEND_BATTLE_SEED_SECRET=your-battle-seed-secret-minimum-32-chars

# =============================================================================
# BACKEND Telegram Integration
# =============================================================================
# Telegram bot token (required for production)
BACKEND_TELEGRAM_BOT_TOKEN=your-telegram-bot-token
BACKEND_TELEGRAM_INITDATA_MAX_AGE_SECONDS=900

# =============================================================================
# BACKEND CORS Configuration
# =============================================================================
# Comma-separated list of allowed origins
# Local development: http://localhost:3000,http://localhost:3001
# Production: https://your-domain.com
BACKEND_CORS_ORIGIN=http://localhost:3000,http://localhost:3001

# =============================================================================
# BACKEND TON Blockchain Configuration
# =============================================================================
# TON provider configuration
BACKEND_TON_PROVIDER_URL=https://toncenter.com/api/v2/jsonRPC
BACKEND_TON_API_KEY=your-toncenter-api-key

# Admin wallet configuration
BACKEND_ADMIN_WALLET=your-admin-wallet-address
BACKEND_ADMIN_SIGNER_TYPE=stub
BACKEND_ADMIN_MNEMONIC="your twelve word mnemonic phrase here"
BACKEND_ADMIN_JETTON_WALLET=your-jetton-wallet-address

# =============================================================================
# BACKEND Economy Configuration
# =============================================================================
# TON boosts wallet
BACKEND_BOOST_TON_WALLET=your-boost-ton-wallet-address

# Groups (guilds) configuration
BACKEND_LEADER_BOARD_WALLET=your-leader-board-wallet-address
BACKEND_BOOST_GROUP_WALLET=your-boost-group-wallet-address

# =============================================================================
# BACKEND Additional Configuration
# =============================================================================
# JSON body size limit
BACKEND_JSON_BODY_LIMIT=1mb

# Redis for shared rate limiting (optional)
BACKEND_REDIS_URL=

# =============================================================================
# MINIAPP Frontend Configuration
# =============================================================================
# Miniapp specific public variables (NEXT_PUBLIC_ prefix for Next.js)
MINIAPP_NEXT_PUBLIC_BACKEND_URL=http://localhost:5000

# App URL for TonConnect manifest (optional; defaults to current origin)
MINIAPP_NEXT_PUBLIC_APP_URL=https://your-miniapp-domain.com

# TonConnect manifest URL (optional; use deployed URL for better wallet compatibility)
MINIAPP_NEXT_PUBLIC_TONCONNECT_MANIFEST_URL=https://your-miniapp-domain.com/api/tonconnect-manifest

# =============================================================================
# ADMIN PANEL Configuration
# =============================================================================
# Admin panel specific public variables
ADMIN_NEXT_PUBLIC_BACKEND_URL=http://localhost:5000

# Admin panel specific app URL
ADMIN_NEXT_PUBLIC_APP_URL=https://your-admin-domain.com

# =============================================================================
# PRODUCTION EXAMPLES (uncomment and modify for production deployment)
# =============================================================================

# # SHARED Production Configuration
# SHARED_APP_ENV=production
# SHARED_NODE_ENV=production
# SHARED_BACKEND_URL=https://your-backend-domain.com

# # BACKEND Production Configuration
# BACKEND_MONGO_URI=mongodb+srv://user:password@cluster.mongodb.net/aiba-arena?retryWrites=true&w=majority
# BACKEND_ADMIN_JWT_SECRET=super-secure-production-jwt-secret-256-bit-minimum
# BACKEND_BATTLE_SEED_SECRET=super-secure-battle-seed-secret-32-chars-minimum
# BACKEND_TELEGRAM_BOT_TOKEN=123456789:ABCDEFGHIJKLMNOPQRSTUVWXYZ-abcdefg
# BACKEND_CORS_ORIGIN=https://your-miniapp-domain.com,https://your-admin-domain.com
# BACKEND_TON_PROVIDER_URL=https://toncenter.com/api/v2/jsonRPC
# BACKEND_TON_API_KEY=your-production-toncenter-api-key
# BACKEND_ADMIN_SIGNER_TYPE=mnemonic
# BACKEND_ADMIN_MNEMONIC="your production twelve word mnemonic phrase here"

# # MINIAPP Production Configuration  
# MINIAPP_NEXT_PUBLIC_BACKEND_URL=https://your-backend-domain.com
# MINIAPP_NEXT_PUBLIC_APP_URL=https://your-miniapp-domain.com
# MINIAPP_NEXT_PUBLIC_TONCONNECT_MANIFEST_URL=https://your-miniapp-domain.com/api/tonconnect-manifest

# # ADMIN Production Configuration
# ADMIN_NEXT_PUBLIC_BACKEND_URL=https://your-backend-domain.com
# ADMIN_NEXT_PUBLIC_APP_URL=https://your-admin-domain.com
